public static boolean equal(GeneralPath p1, GeneralPath p2) {
    if (p1 == null) {
        return (p2 == null);
    }
    if (p2 == null) {
        return false;
    }
    if (!p1.getBounds2D().equals(p2.getBounds2D()) || !p1.getCurrentPoint().equals(p2.getCurrentPoint())) {
        return false;
    }
    PathIterator iterator1 = p1.getPathIterator(null);
    PathIterator iterator2 = p2.getPathIterator(null);
    double[] d1 = new double[6];
    double[] d2 = new double[6];
    boolean done1 = iterator1.isDone();
    boolean done2 = iterator2.isDone();

    while (!done1 && !done2) {
        int seg1 = iterator1.currentSegment(d1);
        int seg2 = iterator2.currentSegment(d2);
        if (seg1 != seg2 || !Arrays.equals(d1, d2)) {
            return false;
        }
        done1 = iterator1.isDone();
        done2 = iterator2.isDone();
        iterator1.next();
        iterator2.next();
    }

    return done1 == done2;
}