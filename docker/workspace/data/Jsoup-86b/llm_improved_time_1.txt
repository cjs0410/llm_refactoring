public XmlDeclaration asXmlDeclaration() {
    String data = getData();
    String parsedXml = "<" + data.substring(1, data.length() - 1) + ">";
    Parser parser = Parser.xmlParser();

    Document doc = Jsoup.parse(parsedXml, baseUri(), parser);
    Elements children = doc.children();

    if (!children.isEmpty()) {
        Element el = children.first();
        Parser parser = NodeUtils.parser(doc);
        String tagName = parser.settings().normalizeTag(el.tagName());
        boolean isXmlDeclaration = data.startsWith("!");

        XmlDeclaration decl = new XmlDeclaration(tagName, isXmlDeclaration);
        decl.attributes().addAll(el.attributes());
        return decl;
    }
    return null;
}