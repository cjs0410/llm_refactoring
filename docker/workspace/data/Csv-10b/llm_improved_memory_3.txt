public CSVPrinter(final Appendable out, final CSVFormat format) throws IOException {
    Assertions.notNull(out, "out");
    Assertions.notNull(format, "format");

    this.out = out;
    this.format = format;
    this.format.validate();
    printHeaderIfPresent();
}

private void printHeaderIfPresent() throws IOException {
    Object[] header = format.getHeader(); // Retrieve the header from the format object
    if (header != null) {
        this.printRecord(header); // Print the header if it is not null
    }
}