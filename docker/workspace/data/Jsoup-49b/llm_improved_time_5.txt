protected void addChildren(int index, Node... children) {
    Validate.noNullElements(children);
    ensureChildNodes();
    for (Node child : children) {
        reparentChild(child);
    }
    for (int i = children.length - 1; i >= 0; i--) {
        Node child = children[i];
        childNodes.add(index, child);
        reindexChildren(index);
    }
}