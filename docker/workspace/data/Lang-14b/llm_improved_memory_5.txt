public static boolean equals(CharSequence cs1, CharSequence cs2) {
    if (cs1 == cs2) {
        return true;
    }
    if (cs1 == null || cs2 == null) {
        return false;
    }
    if (cs1 instanceof String && cs2 instanceof String) {
        return cs1.equals(cs2);
    }
    return regionMatches(cs1, cs2, false, 0);
}

public static boolean regionMatches(CharSequence cs1, CharSequence cs2, boolean ignoreCase, int toffset) {
    int len1 = cs1.length();
    int len2 = cs2.length();
    if (toffset < 0 || toffset > len1 - len2) {
        return false;
    }
    for (int i = 0; i < len2; i++) {
        char c1 = cs1.charAt(i + toffset);
        char c2 = cs2.charAt(i);
        if (c1 != c2 && (!ignoreCase || Character.toUpperCase(c1) != Character.toUpperCase(c2))) {
            return false;
        }
    }
    return true;
}