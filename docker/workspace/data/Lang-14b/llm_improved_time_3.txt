public static boolean equals(CharSequence cs1, CharSequence cs2) {
    if (cs1 == null || cs2 == null) {
        return false;
    }
    if (cs1 instanceof String && cs2 instanceof String) {
        return cs1.equals(cs2);
    }
    return regionMatches(cs1, cs2);
}

private static boolean regionMatches(CharSequence cs1, CharSequence cs2) {
    int length1 = cs1.length();
    int length2 = cs2.length();
    int maxLength = Math.max(length1, length2);

    for (int i = 0; i < maxLength; i++) {
        char c1 = (i < length1) ? cs1.charAt(i) : '\0';
        char c2 = (i < length2) ? cs2.charAt(i) : '\0';

        if (c1 != c2) {
            return false;
        }
    }

    return true;
}