private void copyAttributes(org.jsoup.nodes.Node source, Element el) {
    for (Attribute attribute : source.attributes()) {
        // valid xml attribute names are: ^[a-zA-Z_:][-a-zA-Z0-9_:.]
        String key = attribute.getKey();
        StringBuilder validKey = new StringBuilder();

        // Check if the first character of the attribute name is valid
        char firstChar = key.charAt(0);
        if (Character.isLetter(firstChar) || firstChar == '_' || firstChar == ':') {
            validKey.append(firstChar);
        }

        // Check the rest of the attribute name and append valid characters
        for (int i = 1; i < key.length(); i++) {
            char currentChar = key.charAt(i);
            if (Character.isLetterOrDigit(currentChar) || currentChar == '_' || currentChar == '-' || currentChar == ':' || currentChar == '.') {
                validKey.append(currentChar);
            }
        }

        // Set the attribute with the valid key and its value
        el.setAttribute(validKey.toString(), attribute.getValue());
    }
}